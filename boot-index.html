<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>智能地址订单管理系统</title>
    
    <!-- Bootstrap 5.3 CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Bootstrap Icons -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.2/font/bootstrap-icons.css" rel="stylesheet">
    <!-- Custom Styles -->
    <link href="boot-styles.css" rel="stylesheet">
    <!-- External libraries -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
</head>
<body>
    <div class="container-fluid">
        <div class="main-container p-4">
            <h1 class="main-title display-4 mb-4">智能地址订单管理系统</h1>
            
            <div class="row g-4">
                <!-- 拼多多地址订单管理 -->
                <div class="col-lg-4 col-md-6">
                    <div class="card platform-card h-100">
                        <div class="card-header bg-transparent border-0 pb-0">
                            <h2 class="platform-title h4 mb-3">
                                <i class="bi bi-shop me-2"></i>拼多多地址订单管理
                            </h2>
                        </div>
                        <div class="card-body">
                            <div class="mb-3">
                                <label for="pdd-input" class="form-label fw-bold">
                                    输入拼多多地址（每条地址3行，多条地址连续输入）：
                                </label>
                                <textarea id="pdd-input" class="form-control" rows="6" 
                                    placeholder="请输入拼多多地址，例如：&#10;王凯[9989]&#10;19590448537&#10;山东省 青岛市 市南区 如东路17号[9989]&#10;杨宁&#10;17281428495&#10;福建省 三明市 泰宁县 三涧路东洲小区7号楼402，杨宁"></textarea>
                                <div class="form-text">
                                    <small class="text-muted fst-italic">
                                        示例格式：<br>
                                        王凯[9989]<br>
                                        19590448537<br>
                                        山东省 青岛市 市南区 如东路17号[9989]
                                    </small>
                                </div>
                                <div class="form-text">
                                    <small class="text-info">
                                        支持批量处理，每条地址占3行（姓名、电话、地址）。支持分号（；）分隔的格式
                                    </small>
                                </div>
                            </div>
                            
                            <div class="d-flex flex-wrap gap-2 mb-3">
                                <button id="pdd-process-btn" class="btn btn-primary">
                                    <i class="bi bi-gear me-1"></i>处理地址并添加订单
                                </button>
                                <button id="pdd-copy" class="btn btn-success">
                                    <i class="bi bi-clipboard me-1"></i>复制结果
                                </button>
                            </div>
                            
                            <div id="pdd-result" class="result-area p-3 d-none">
                                <div class="fw-bold text-primary mb-2">处理结果：</div>
                                <div id="pdd-output" class="result-content p-3"></div>
                                
                                <div class="order-section p-3 mt-3 d-none" id="pdd-order-section">
                                    <div class="fw-bold text-info mb-3">为每个地址添加订单信息</div>
                                    <button id="pdd-add-order-btn" class="btn btn-purple mb-3">
                                        <i class="bi bi-plus-circle me-1"></i>添加订单信息
                                    </button>
                                    
                                    <div id="pdd-address-list" class="address-list"></div>
                                    
                                    <button id="pdd-generate-final-btn" class="btn btn-orange w-100 mt-3">
                                        <i class="bi bi-check-circle me-1"></i>生成最终订单
                                    </button>
                                </div>
                            </div>
                            
                            <div id="pdd-final-result" class="final-result p-3 mt-3 d-none">
                                <div class="fw-bold text-warning mb-3">订单信息：</div>
                                <div id="pdd-final-output" class="result-content p-3"></div>
                                <div class="d-flex flex-wrap gap-2 mt-3">
                                    <button id="pdd-final-copy" class="btn btn-success btn-sm">
                                        <i class="bi bi-clipboard me-1"></i>复制
                                    </button>
                                    <button id="pdd-export-table" class="btn btn-danger btn-sm">
                                        <i class="bi bi-table me-1"></i>导出表格
                                    </button>
                                    <button id="pdd-export-image" class="btn btn-warning btn-sm">
                                        <i class="bi bi-image me-1"></i>导出图片
                                    </button>
                                    <button id="pdd-export-pdf" class="btn btn-purple btn-sm">
                                        <i class="bi bi-file-pdf me-1"></i>导出PDF
                                    </button>
                                </div>
                            </div>
                            
                            <div id="pdd-table-preview" class="table-preview p-3 mt-3 d-none">
                                <div class="fw-bold text-secondary mb-3">表格预览：</div>
                                <div id="pdd-table-container" class="table-responsive"></div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- 抖音地址订单管理 -->
                <div class="col-lg-4 col-md-6">
                    <div class="card platform-card h-100">
                        <div class="card-header bg-transparent border-0 pb-0">
                            <h2 class="platform-title h4 mb-3">
                                <i class="bi bi-music-note me-2"></i>抖音地址订单管理
                            </h2>
                        </div>
                        <div class="card-body">
                            <div class="mb-3">
                                <label for="dy-input" class="form-label fw-bold">
                                    输入抖音地址（每行一条：姓名，电话[-后四位]，地址）：
                                </label>
                                <textarea id="dy-input" class="form-control" rows="6" 
                                    placeholder="例如：&#10;高先生，15782103569-9142，新疆维吾尔自治区 喀什地区 麦盖提县 麦盖提镇 巴扎结米路麦盖提镇刀郎社区幸福小区&#10;张三，13800001234，浙江省 杭州市 西湖区 XX路100号"></textarea>
                                <div class="form-text">
                                    <small class="text-muted fst-italic">
                                        示例：姓名，电话[-后四位]，地址
                                    </small>
                                </div>
                                <div class="form-text">
                                    <small class="text-info">
                                        支持批量处理，每行一条
                                    </small>
                                </div>
                            </div>
                            
                            <div class="d-flex flex-wrap gap-2 mb-3">
                                <button id="dy-process-btn" class="btn btn-primary">
                                    <i class="bi bi-gear me-1"></i>处理地址并添加订单
                                </button>
                                <button id="dy-copy" class="btn btn-success">
                                    <i class="bi bi-clipboard me-1"></i>复制结果
                                </button>
                            </div>
                            
                            <div id="dy-result" class="result-area p-3 d-none">
                                <div class="fw-bold text-primary mb-2">处理结果：</div>
                                <div id="dy-output" class="result-content p-3"></div>
                                
                                <div class="order-section p-3 mt-3 d-none" id="dy-order-section">
                                    <div class="fw-bold text-info mb-3">为每个地址添加订单信息</div>
                                    <button id="dy-add-order-btn" class="btn btn-purple mb-3">
                                        <i class="bi bi-plus-circle me-1"></i>添加订单信息
                                    </button>
                                    
                                    <div id="dy-address-list" class="address-list"></div>
                                    
                                    <button id="dy-generate-final-btn" class="btn btn-orange w-100 mt-3">
                                        <i class="bi bi-check-circle me-1"></i>生成最终订单
                                    </button>
                                </div>
                            </div>
                            
                            <div id="dy-final-result" class="final-result p-3 mt-3 d-none">
                                <div class="fw-bold text-warning mb-3">订单信息：</div>
                                <div id="dy-final-output" class="result-content p-3"></div>
                                <div class="d-flex flex-wrap gap-2 mt-3">
                                    <button id="dy-final-copy" class="btn btn-success btn-sm">
                                        <i class="bi bi-clipboard me-1"></i>复制
                                    </button>
                                    <button id="dy-export-table" class="btn btn-danger btn-sm">
                                        <i class="bi bi-table me-1"></i>导出表格
                                    </button>
                                    <button id="dy-export-image" class="btn btn-warning btn-sm">
                                        <i class="bi bi-image me-1"></i>导出图片
                                    </button>
                                    <button id="dy-export-pdf" class="btn btn-purple btn-sm">
                                        <i class="bi bi-file-pdf me-1"></i>导出PDF
                                    </button>
                                </div>
                            </div>
                            
                            <div id="dy-table-preview" class="table-preview p-3 mt-3 d-none">
                                <div class="fw-bold text-secondary mb-3">表格预览：</div>
                                <div id="dy-table-container" class="table-responsive"></div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- 淘宝地址订单管理 -->
                <div class="col-lg-4 col-md-6">
                    <div class="card platform-card h-100">
                        <div class="card-header bg-transparent border-0 pb-0">
                            <h2 class="platform-title h4 mb-3">
                                <i class="bi bi-cart me-2"></i>淘宝地址订单管理
                            </h2>
                        </div>
                        <div class="card-body">
                            <div class="mb-3">
                                <label for="tb-input" class="form-label fw-bold">
                                    输入淘宝地址（每行一条地址）：
                                </label>
                                <textarea id="tb-input" class="form-control" rows="6" 
                                    placeholder="请输入淘宝地址，例如：&#10;上海上海市松江区岳阳街道松汇中路518弄云间名门3号201, 汤亚英, 18466662574-5448&#10;江苏省苏州市太仓市城厢镇南园西路11号南洋壹号公馆西门 8幢B单元1701, 张珂悦, 15162592550"></textarea>
                                <div class="form-text">
                                    <small class="text-muted fst-italic">
                                        示例格式：<br>
                                        上海上海市松江区岳阳街道松汇中路518弄云间名门3号201, 汤亚英, 18466662574-5448
                                    </small>
                                </div>
                                <div class="form-text">
                                    <small class="text-info">
                                        支持批量处理，每行一条地址，地址格式为：详细地址, 姓名, 电话号码[-虚拟号]
                                    </small>
                                </div>
                            </div>
                            
                            <div class="d-flex flex-wrap gap-2 mb-3">
                                <button id="tb-process-btn" class="btn btn-primary">
                                    <i class="bi bi-gear me-1"></i>处理地址并添加订单
                                </button>
                                <button id="tb-copy" class="btn btn-success">
                                    <i class="bi bi-clipboard me-1"></i>复制结果
                                </button>
                            </div>
                            
                            <div id="tb-result" class="result-area p-3 d-none">
                                <div class="fw-bold text-primary mb-2">处理结果：</div>
                                <div id="tb-output" class="result-content p-3"></div>
                                
                                <div class="order-section p-3 mt-3 d-none" id="tb-order-section">
                                    <div class="fw-bold text-info mb-3">为每个地址添加订单信息</div>
                                    <button id="tb-add-order-btn" class="btn btn-purple mb-3">
                                        <i class="bi bi-plus-circle me-1"></i>添加订单信息
                                    </button>
                                    
                                    <div id="tb-address-list" class="address-list"></div>
                                    
                                    <button id="tb-generate-final-btn" class="btn btn-orange w-100 mt-3">
                                        <i class="bi bi-check-circle me-1"></i>生成最终订单
                                    </button>
                                </div>
                            </div>
                            
                            <div id="tb-final-result" class="final-result p-3 mt-3 d-none">
                                <div class="fw-bold text-warning mb-3">订单信息：</div>
                                <div id="tb-final-output" class="result-content p-3"></div>
                                <div class="d-flex flex-wrap gap-2 mt-3">
                                    <button id="tb-final-copy" class="btn btn-success btn-sm">
                                        <i class="bi bi-clipboard me-1"></i>复制
                                    </button>
                                    <button id="tb-export-table" class="btn btn-danger btn-sm">
                                        <i class="bi bi-table me-1"></i>导出表格
                                    </button>
                                    <button id="tb-export-image" class="btn btn-warning btn-sm">
                                        <i class="bi bi-image me-1"></i>导出图片
                                    </button>
                                    <button id="tb-export-pdf" class="btn btn-purple btn-sm">
                                        <i class="bi bi-file-pdf me-1"></i>导出PDF
                                    </button>
                                </div>
                            </div>
                            
                            <div id="tb-table-preview" class="table-preview p-3 mt-3 d-none">
                                <div class="fw-bold text-secondary mb-3">表格预览：</div>
                                <div id="tb-table-container" class="table-responsive"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- 打印容器（用于生成图片和PDF） -->
    <div id="print-container" class="print-container">
        <div class="print-title" id="print-title"></div>
        <table class="print-table" id="print-table"></table>
        <div class="print-footer" id="print-footer"></div>
    </div>
    
    <!-- 加载提示 -->
    <div id="loading" class="loading-overlay d-none d-flex justify-content-center align-items-center">
        <div class="text-center">
            <div class="spinner-border spinner-border-lg text-light" role="status">
                <span class="visually-hidden">加载中...</span>
            </div>
            <div class="text-white mt-2">正在生成文件，请稍候...</div>
        </div>
    </div>
    
    <!-- Bootstrap 5.3 JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    
    <!-- 模块化脚本 - 按依赖顺序加载 -->
    <!-- 配置模块 -->
    <script src="boot-config.js"></script>
    <!-- 工具类模块 -->
    <script src="boot-utils.js"></script>
    <!-- 地址处理模块 -->
    <script src="boot-address-processor.js"></script>
    <!-- 事件处理和模板模块 -->
    <script src="boot-event-handlers.js"></script>
    <!-- 管理器模块 -->
    <script src="boot-managers.js"></script>
    <!-- 主应用模块 -->
    <script src="boot-script-optimized.js"></script>
</body>
</html>
